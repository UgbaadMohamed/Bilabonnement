<!DOCTYPE html>
<html lang="en">
<head>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://kit.fontawesome.com/d17da6709b.js"> </script>
    <link rel="stylesheet" type="text/css" href="header.css">

</head>
<body>
<div id="positionForlogout">
    <a href="/" class="logout-button">
        <i class="fa-solid fa-right-from-bracket fa-xl" id="logout-style"></i>
    </a>
</div>

<div class="navbar">
    <div id="menuHeader" onclick="window.location.href='/homePage'">
        <div class="nav-item">
            <a href="/homePage" id="logo"></a>
        </div>
    </div>

    <div class="links">
        <div class="dropdown nav-item">
            <div th:if="${session.staff_member.member_type_id == 1 || session.staff_member.member_type_id == 4}">
                <button class="dropbtn" id="Leasing-botton"> Leasing
                </button>
            </div>
            <div class="dropdown-content" id="dropdown-1-placement">
                <a href="/carLeasing">Ledige biler</a>
                <a href="/customerPage">Alle kunder</a>
                <a href="/viewLeasedCars/">Alle Kontrakter</a>
            </div>
        </div>

        <div th:unless="${session.staff_member.member_type_id == 1 || session.staff_member.member_type_id == 4}">
            <button disabled class="dropbtn" id="Leasing-botton-disable"> Leasing
            </button>
        </div>


        <div class="dropdown nav-item">
            <div th:if="${session.staff_member.member_type_id == 3 || session.staff_member.member_type_id == 4}">
                <button class="dropbtn" id="Skade-botton" >Skade og Udbedring
                </button>
            </div>

            <div class="dropdown-content" id="dropdown-2-placement">
                <a href="/conditionReportDocumentation" >Opret tilstandsrapport </a>
                <a href="/viewContracts">Alle kontrakter</a>
            </div>
        </div>

        <div th:unless="${session.staff_member.member_type_id == 3 || session.staff_member.member_type_id == 4}">
            <button disabled class="dropbtn" id="Skade-botton-disable"> Skade og Udbedring </button>
        </div>


        <div class="dropdown nav-item">

            <div th:if="${session.staff_member.member_type_id == 2 || session.staff_member.member_type_id == 4}">
                <button class="dropbtn" id="After-botton" >Efterbehandling </button>
            </div>

            <div class="dropdown-content" id="dropdown-3-placement">
                <a href="/findReviewTarget">Kundeanmeldelse</a>
                <a href="/auction">Auktion </a>
                <a href="/viewContracts">Alle kontrakter</a>
            </div>
        </div>

        <div th:unless="${session.staff_member.member_type_id == 2 || session.staff_member.member_type_id == 4}">
            <button disabled class="dropbtn" id="After-botton-disable" >Efterbehandling
            </button>
        </div>

        <div class="dropdown nav-item">
            <div th:if="${session.staff_member.member_type_id == 2 || session.staff_member.member_type_id == 4}">
                <button class="dropbtn" id="KPI-botton">PA
                </button>
            </div>
            <div class="dropdown-content" id="dropdown-4-placement">
                <a href="/KPICar">Lagerstatus</a>
                <a href="/KPIEconomy">KPI</a>

            </div>
        </div>

        <div th:unless="${session.staff_member.member_type_id == 2 || session.staff_member.member_type_id == 4}">
            <button disabled class="dropbtn" id="KPI-botton-disable">KPI
            </button>
        </div>

        <div class="dropdown nav-item">
            <div th:if="${session.staff_member.member_type_id == 4}">
                <button class="dropbtn" id="Staff-botton" >Personale
                </button>
            </div>
            <div class="dropdown-content" id="dropdown-5-placement">
                <a href="/createStaffMember">Opret ny medarbejder</a>
                <a href="/allStaffMembers">Alle medarbejdere</a>
            </div>
        </div>

        <div th:unless="${session.staff_member.member_type_id == 4}">
            <button disabled class="dropbtn" id="Staff-botton-disable" >Personale
            </button>
        </div>
        </div>
    </div>
    </div>

<div class="back-foto">
</div>
</head>

<form action="/saveConditionReport" method="post" onsubmit="return validateForm()" >
    <div class="basic-box ">
        <br><br>
        <header id="cd-header">Tilstandsrapportering</header>
    <div class="q1" >
        <br> <br><br>
        <label>Hvilken tilstand er bilen i?</label><br><br>
        <label for="damage_level_id_1">Ingen fejl eller mangler</label>
        <input type="radio" name="damage_level_id" id="damage_level_id_1" value="1" required >
        <label for="damage_level_id_2">Mindre fejl eller mangler</label>
        <input type="radio" name="damage_level_id" id="damage_level_id_2"value="2" >
        <label for="damage_level_id_3">Moderate fejl eller mangler</label>
        <input type="radio" name="damage_level_id" id="damage_level_id_3"value="3">
        <br>        <br>
        <label for="damage_level_id_4">Totalskadet</label>
        <input type="radio" name="damage_level_id" id="damage_level_id_4"value="4">
    </div>
        <br><br> <br>
    <div class="q2" >
        <p>Har bilen kørt mere end de aftalte km, og hvis ja, hvor mange km?</p>
        <label><input type="radio" name="q2" value="ja" required> Ja</label>
        <label><input type="radio" name="q2" value="nej"> Nej</label>
    </div>
        <br><br>
    <div class="q3" >
        <label for ="odometer_over_limit">Hvor mange overkørte kilometer?</label>
        <input type="number" name="odometer_over_limit" id="odometer_over_limit" placeholder="Indtast km">
    </div>
        <input type="hidden" name="contract_id" th:value="${contract.contract_id}">
        <button type="submit" class="submit-btn">Næste</button>
    </div>
    </form>

    <script>
        //sørger for at hvis nej bliver krydset af, så bliver odometer_over_limit gemt som 0 i databasen uanset hvad!
        function validateForm() {
            var q2 = document.getElementsByName("q2");
            var odometer = document.getElementById("odometer_over_limit");
            if (q2[1].checked) {
                odometer.value = 0;
                odometer.readOnly = true;
            }
            return true;
        }
    </script>


</body>
</html>